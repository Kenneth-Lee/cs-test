batch test: 96 CPU on 3 seconds for one
999:1
use pthread_spinlock
13, 74
26, 74
40, 74
53, 74
66, 74
80, 74
93, 74
107, 74
120, 74
133, 74
145, 75
155, 77
166, 78
169, 82
160, 93
161, 99
155, 108
162, 110
157, 120
156, 127
156, 134
153, 143
157, 145
156, 153
167, 148
166, 154
169, 158
164, 169
155, 184
154, 192
155, 197
154, 206
152, 214
153, 218
153, 224
153, 230
154, 238
152, 245
155, 246
154, 255
152, 267
152, 272
153, 279
153, 284
154, 288
152, 298
153, 304
153, 301
438, 111
294, 169
215, 236
202, 256
212, 248
228, 236
196, 278
233, 239
195, 290
234, 246
165, 354
163, 364
163, 372
155, 393
153, 404
135, 469
131, 485
128, 501
144, 433
143, 441
141, 457
140, 487
131, 504
131, 529
129, 535
127, 564
119, 618
118, 639
109, 701
145, 536
110, 712
157, 505
193, 417
209, 389
194, 424
192, 433
200, 422
187, 456
176, 489
179, 488
179, 494
162, 552
163, 554
154, 593
147, 628
153, 609
139, 679
142, 669
use mcs lock
123, 7
163, 12
162, 18
163, 24
183, 27
152, 39
179, 38
169, 47
153, 58
172, 57
156, 70
150, 79
146, 88
156, 89
168, 88
171, 93
148, 114
150, 119
148, 127
135, 147
115, 181
105, 207
107, 213
116, 206
121, 206
117, 220
117, 229
125, 222
130, 222
129, 232
128, 241
129, 247
129, 255
128, 264
128, 272
126, 283
127, 289
126, 299
127, 304
127, 314
128, 318
129, 325
127, 336
129, 340
129, 347
129, 355
129, 363
127, 375
123, 397
133, 374
136, 374
135, 382
136, 388
134, 401
132, 414
130, 429
129, 438
129, 448
124, 474
127, 471
126, 481
125, 492
125, 502
124, 511
123, 523
123, 533
123, 543
122, 555
122, 561
121, 573
121, 583
119, 599
121, 601
119, 617
120, 620
120, 628
120, 640
119, 653
119, 658
119, 667
119, 676
119, 684
118, 699
118, 705
118, 715
119, 721
118, 732
118, 739
118, 749
118, 759
118, 768
118, 773
118, 784
118, 791
118, 798
118, 809
99:1
use pthread_spinlock
125, 7
168, 11
179, 16
174, 22
192, 25
230, 25
227, 30
188, 42
209, 42
197, 50
182, 59
190, 62
201, 64
187, 74
171, 87
162, 98
169, 98
159, 110
164, 113
159, 119
161, 123
165, 127
159, 140
146, 147
160, 146
154, 153
162, 148
159, 159
153, 176
154, 180
146, 203
147, 209
152, 202
153, 204
156, 201
154, 217
154, 228
170, 217
159, 227
157, 244
152, 253
143, 277
152, 258
154, 243
159, 267
138, 301
162, 261
158, 270
156, 303
226, 220
179, 258
163, 312
235, 224
231, 232
213, 256
166, 322
167, 299
147, 363
153, 348
152, 362
161, 332
174, 329
174, 315
159, 370
114, 525
110, 540
136, 488
128, 517
117, 586
113, 615
115, 610
108, 661
103, 701
106, 693
126, 588
122, 616
123, 619
123, 627
103, 759
123, 645
127, 634
134, 604
124, 665
131, 636
134, 630
133, 642
124, 695
114, 763
113, 777
119, 747
116, 774
112, 813
107, 863
107, 869
114, 826
104, 916
use mcs lock
123, 7
162, 12
191, 15
183, 21
156, 31
140, 42
146, 47
131, 60
147, 60
124, 79
89, 122
89, 134
86, 149
86, 161
85, 174
85, 186
85, 199
84, 211
85, 223
85, 234
84, 248
84, 259
84, 271
84, 282
84, 294
84, 306
84, 318
84, 330
84, 342
84, 353
84, 365
84, 377
84, 388
84, 401
84, 412
84, 424
84, 436
84, 449
84, 460
84, 472
84, 484
84, 495
84, 507
84, 519
84, 530
84, 541
84, 554
84, 566
86, 568
86, 577
86, 588
86, 598
86, 610
85, 627
86, 638
85, 652
84, 671
85, 674
85, 686
86, 692
86, 706
86, 714
85, 736
86, 740
85, 756
86, 766
85, 787
85, 793
85, 803
85, 814
85, 830
84, 847
84, 862
85, 864
84, 882
85, 888
85, 902
85, 916
85, 925
85, 933
85, 950
84, 963
85, 972
85, 984
85, 996
84, 1014
84, 1022
84, 1041
84, 1050
84, 1060
84, 1073
85, 1078
84, 1095
84, 1108
84, 1115
84, 1130
90:10
use pthread_spinlock
125, 7
204, 9
284, 10
248, 15
261, 18
376, 15
480, 14
386, 20
298, 29
312, 31
281, 38
300, 39
283, 45
312, 44
260, 57
271, 58
263, 64
257, 69
255, 74
247, 80
243, 85
261, 83
239, 95
250, 95
184, 135
257, 100
240, 111
252, 110
246, 117
242, 123
254, 121
249, 128
246, 133
231, 146
233, 149
219, 163
216, 170
206, 184
202, 192
196, 202
178, 229
171, 245
176, 243
146, 296
139, 315
153, 299
152, 307
141, 331
223, 218
267, 186
324, 156
314, 164
216, 233
230, 232
246, 221
159, 325
DIE at amdahl.c:107: no count
131, 359
DIE at amdahl.c:107: no count
131, 387
124, 391
125, 423
118, 483
DIE at amdahl.c:107: no count
145, 368
DIE at amdahl.c:107: no count
136, 456
128, 514
121, 552
109, 635
114, 616
123, 580
122, 590
115, 636
113, 656
117, 644
116, 658
120, 642
122, 640
123, 646
121, 663
125, 651
132, 623
132, 630
110, 764
130, 654
122, 705
124, 706
124, 713
124, 719
123, 730
123, 741
119, 771
116, 803
114, 825
110, 861
use mcs lock
123, 7
163, 12
135, 22
136, 29
139, 35
143, 41
130, 52
124, 63
116, 77
114, 87
95, 114
95, 125
91, 142
90, 154
89, 167
89, 178
89, 189
88, 202
88, 213
88, 225
88, 237
88, 248
88, 259
88, 270
88, 282
88, 293
88, 305
88, 316
88, 328
88, 339
88, 350
88, 362
88, 373
88, 385
88, 396
88, 407
88, 419
88, 430
88, 441
88, 452
88, 465
88, 475
88, 487
88, 499
88, 508
88, 520
88, 532
88, 543
88, 554
88, 567
88, 578
87, 593
87, 606
86, 623
87, 630
87, 641
86, 658
86, 667
86, 677
86, 694
86, 708
86, 718
86, 727
86, 741
85, 756
85, 768
85, 780
85, 798
85, 805
85, 814
85, 830
85, 837
85, 851
85, 866
85, 880
85, 889
85, 899
85, 907
85, 926
85, 936
85, 945
85, 956
85, 973
85, 983
84, 998
84, 1010
85, 1018
85, 1031
85, 1044
84, 1057
84, 1069
85, 1076
84, 1095
85, 1102
85, 1114
85, 1121
